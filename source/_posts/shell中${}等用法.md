---
title: shell中${}等用法
date: 2017-10-13 18:31:55
tags: 
    - 笔记
---

在shell脚本中，经常会使用``${xxx}``来引用处理变量
### ${ }的用法
定义变量为： ``file=/dir1/dir2/dir3/my.file.txt``
使用&#8195;``${ }``&#8195;的不同用法： 
- ${file#*/}：匹配并去除第一个 / 及其左边的子串：dir1/dir2/dir3/my.file.txt 
- ${file##*/}：匹配并去除最后一个 / 及其左边的子串：my.file.txt 
- ${file#*.}：匹配并去除第一个 . 及其左边的子串：file.txt 
<!-- more -->
- ${file##*.}：匹配并去除最后一个 . 及其左边的子串：txt 
- ${file%/*}：匹配并去除最后条 / 及其右边的子串：/dir1/dir2/dir3 
- ${file%%/*}：匹配并去除第一条 / 及其右边的子串：(空值) 
- ${file%.*}：匹配并去除最后一个 . 及其右边的子串：/dir1/dir2/dir3/my.file 
- ${file%%.*}：匹配并去除第一个 . 及其右边的子串：/dir1/dir2/dir3/my 

#### 巧记的方法

``#``是去掉左边(在键盘上&#8195;``#``&#8195;在&#8195;``$``&#8195;的左边) 

``%``是去掉右边(在键盘上&#8195;``%``&#8195;在&#8195;``$``&#8195;的右边) 

单一符号是最小匹配﹔两个符号是贪婪匹配。

```
${file:0:5}：提取最左边的 5 个字?：/dir1 

${file:5:5}：提取第 5 个字?右边的连续 5 个字?：/dir2 
```
